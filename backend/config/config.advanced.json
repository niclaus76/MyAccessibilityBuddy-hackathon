{
  "_comment_info": "ADVANCED CONFIGURATION - Technical settings rarely modified by most users",
  "_comment_basic": "For commonly used settings (LLM provider, model, logging, prompts, languages), see config.json",

  "_comment_project_root": "Optional: Specify custom project root directory. If not set or 'auto', automatically detects as parent of backend/ folder. Use absolute path for custom location.",
  "project_root": "auto",

  "_comment_folders": "Folder paths (relative to project root)",
  "folders": {
    "images": "input/images",
    "context": "input/context",
    "alt_text": "output/alt-text",
    "reports": "output/reports",
    "prompt": "prompt",
    "prompt_processing": "prompt/processing",
    "prompt_vision": "prompt/vision",
    "prompt_translation": "prompt/translation",
    "prompt_optimization_test_images": "test/input/images",
    "prompt_optimization_test_context": "test/input/context",
    "logs": "logs",
    "training": "training",
    "training_datasets": "training/datasets",
    "training_raw": "training/datasets/raw",
    "training_processed": "training/datasets/processed",
    "training_splits": "training/datasets/splits",
    "training_benchmarks": "training/benchmarks",
    "training_validation": "training/validation",
    "training_experiments": "training/experiments",
    "training_quality": "training/quality",
    "training_tools": "tools/training"
  },

  "_comment_prompt_advanced": "Advanced prompt configuration",
  "prompt": {
    "merge_separator": "\n\n---\n\n"
  },

  "_comment_html_report_display": "HTML report display settings: control which fields are shown in the generated HTML report",
  "html_report_display": {
    "display_image_analysis_overview": true,
    "display_image_type_distribution": true,
    "display_html_tags_used": true,
    "display_html_attributes_used": true,
    "display_image_preview": true,
    "display_image_type": true,
    "display_current_alt_text": true,
    "display_proposed_alt_text": true,
    "display_image_tag_attribute": true,
    "display_reasoning": true,
    "display_context": true,
    "display_vision_prompt": false,
    "display_processing_prompt": true,
    "display_translation_prompt": false,
    "display_geotag": true
  },

  "_comment_download": "Web scraping download settings",
  "download": {
    "_comment": "timeout: request timeout in seconds, delay_between_requests: delay between image downloads to avoid rate limiting",
    "timeout": 30,
    "delay_between_requests": 3,
    "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
  },

  "_comment_web_ui": "Web UI default settings",
  "web_ui": {
    "_comment_default_num_images": "Default number of images to process when 'Process all images' is unchecked (1-100)",
    "default_num_images": 1
  },
  "_comment_time_estimation": "Progress estimate settings for web UI (heuristics only, not SLA).",
  "time_estimation": {
    "provider_category": {
      "openai": "web",
      "claude": "web",
      "ecb-llm": "web",
      "gemini": "web",
      "ollama": "local"
    },
    "base_seconds_per_image": {
      "web": 12,
      "local": 6
    },
    "step_multipliers": {
      "vision": 1.0,
      "processing": 1.3,
      "translation": 0.8
    },
    "model_multipliers": {
      "gpt-4o": 1.0,
      "gpt-4o-mini": 0.8,
      "gpt-5.1": 1.2,
      "gpt-5.2": 1.3,
      "claude-sonnet-4-20250514": 1.2,
      "claude-opus-4-20250514": 1.4
    },
    "translation_mode_multiplier": {
      "fast": 1.0,
      "accurate": 1.6
    },
    "geo_boost_multiplier": 1.1,
    "overhead_seconds": 5,
    "default_num_images_when_all": 10
  },

  "_comment_image_extraction": "Configure which HTML tags and attributes to use for finding images",
  "image_extraction": {
    "tags": {
      "img": true,
      "picture": true,
      "div": true,
      "link": true,
      "meta": true
    },
    "attributes": {
      "src": true,
      "data-src": true,
      "data-image": true,
      "data-image-webp": true,
      "srcset": true,
      "data-srcset": true,
      "href": true,
      "content": true
    },
    "css_background_images": true
  },

  "_comment_context": "Context extraction configuration: max_text_length (max chars per text element), max_parent_levels (DOM levels to traverse), min_text_length (minimum chars to include), max_sibling_text_length (max chars from sibling elements)",
  "context": {
    "max_text_length": 1000,
    "max_parent_levels": 5,
    "min_text_length": 20,
    "max_sibling_text_length": 500
  },

  "_comment_ecb_llm": "ECB-LLM U2A OAuth2 configuration: token_url, scope, authorize_url (OAuth2 authorization endpoint)",
  "ecb_llm": {
    "token_url": "https://igam.escb.eu/igam-oauth/oauth2/rest/token",
    "scope": "openid profile LLM.api.read",
    "authorize_url": "https://igam.escb.eu/igam-oauth/oauth2/rest/authorize"
  },

  "_comment_testing": "Testing and batch comparison configuration",
  "testing": {
    "_comment_folders": "Test folder paths (relative to project root)",
    "folders": {
      "test_images": "test/input/images",
      "test_context": "test/input/context",
      "test_reports": "test/output/reports"
    },
    "_comment_batch_comparison": "Batch prompt comparison settings",
    "batch_comparison": {
      "test_name": "Prompt Comparison Test",
      "description": "Compare multiple prompt versions to evaluate alt-text generation quality",
      "model": {
        "provider": "OpenAI",
        "vision_model": "gpt-5.2",
        "processing_model": "gpt-5.2",
        "translation_model": "gpt-5.2"
      },
      "prompts": [
        {
          "file": "processing_prompt_v0.txt",
          "label": "v0: base prompt",
          "description": "Minimal baseline prompt with JSON output"
        },
        {
          "file": "processing_prompt_v1.txt",
          "label": "v1: With image classification",
          "description": "Basic classification (decorative/informative/functional)"
        },
        {
          "file": "processing_prompt_v2.txt",
          "label": "v2: With image classification and workflow",
          "description": "WCAG 2.2 focused with decision tree"
        },
        {
          "file": "processing_prompt_v3.txt",
          "label": "v3: With extended image classification and workflow",
          "description": "Comprehensive with phased execution and optimization"
        },
        {
          "file": "processing_prompt_v4.txt",
          "label": "v4: with extended image classification, workflow and security",
          "description": "Advanced multi-file modular system"
        }
      ],
      "test_images": [
        "1.png",
        "2.png"
      ],
      "test_context": [
        "1.txt",
        "2.txt"
      ],
      "language": "en",
      "output": {
        "generate_csv": true,
        "generate_html": true,
        "csv_filename": "prompt_comparison_{timestamp}.csv",
        "html_filename": "prompt_comparison_{timestamp}.html"
      }
    }
  },

  "_comment_training": "Training data management configuration",
  "training": {
    "_comment_split_ratios": "Train/validation/test split ratios (must sum to 1.0)",
    "split_ratios": {
      "train": 0.70,
      "val": 0.15,
      "test": 0.15
    },
    "_comment_validation": "Expert validation settings",
    "validation": {
      "require_human_review": false,
      "quality_threshold": 0.8,
      "min_review_coverage": 0.20
    },
    "_comment_deduplication": "Image deduplication settings",
    "deduplication": {
      "enabled": true,
      "hash_algorithm": "sha256",
      "near_duplicate_threshold": 0.95
    },
    "_comment_quality_control": "Dataset quality control settings",
    "quality_control": {
      "min_alt_text_length": 125,
      "max_alt_text_length": 200,
      "check_image_validity": true,
      "check_context_matching": true
    }
  },

  "_comment_languages": "Supported languages for alt-text generation (EU official languages)",
  "languages": {
    "allowed": [
      {
        "code": "bg",
        "name": "Български"
      },
      {
        "code": "cs",
        "name": "Čeština"
      },
      {
        "code": "da",
        "name": "Dansk"
      },
      {
        "code": "de",
        "name": "Deutsch"
      },
      {
        "code": "el",
        "name": "Ελληνικά"
      },
      {
        "code": "en",
        "name": "English"
      },
      {
        "code": "es",
        "name": "Español"
      },
      {
        "code": "et",
        "name": "Eesti keel"
      },
      {
        "code": "fi",
        "name": "Suomi"
      },
      {
        "code": "fr",
        "name": "Français"
      },
      {
        "code": "ga",
        "name": "Gaeilge"
      },
      {
        "code": "hr",
        "name": "Hrvatski"
      },
      {
        "code": "hu",
        "name": "Magyar"
      },
      {
        "code": "it",
        "name": "Italiano"
      },
      {
        "code": "lt",
        "name": "Lietuvių"
      },
      {
        "code": "lv",
        "name": "Latviešu"
      },
      {
        "code": "mt",
        "name": "Malti"
      },
      {
        "code": "nl",
        "name": "Nederlands"
      },
      {
        "code": "pl",
        "name": "Polski"
      },
      {
        "code": "pt",
        "name": "Português"
      },
      {
        "code": "ro",
        "name": "Română"
      },
      {
        "code": "sk",
        "name": "Slovenčina"
      },
      {
        "code": "sl",
        "name": "Slovenščina"
      },
      {
        "code": "sv",
        "name": "Svenska"
      }
    ],
    "default": "en"
  }
}
